<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">



  <meta name="google-site-verification" content="true">








  <meta name="baidu-site-verification" content="true">







  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css">


  <meta name="keywords" content="Java,Math,Double,">





  <link rel="alternate" href="/atom.xml" title="A Big Boy Blog -  Tech Articls & Notes" type="application/atom+xml">




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.2">






<meta name="description" content="IntroductionCorrectly compare float or compare double is not only Java specific problem. It can be observed in almost all the programming languages today. In computer memory, floats and doubles are st">
<meta name="keywords" content="Java,Math,Double">
<meta property="og:type" content="article">
<meta property="og:title" content="Java Math Double">
<meta property="og:url" content="https://sulangsss.github.io/2019/04/30/Java/Math/Math-Double/index.html">
<meta property="og:site_name" content="A Big Boy Blog -  Tech Articls &amp; Notes">
<meta property="og:description" content="IntroductionCorrectly compare float or compare double is not only Java specific problem. It can be observed in almost all the programming languages today. In computer memory, floats and doubles are st">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2019-05-05T15:28:04.268Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Java Math Double">
<meta name="twitter:description" content="IntroductionCorrectly compare float or compare double is not only Java specific problem. It can be observed in almost all the programming languages today. In computer memory, floats and doubles are st">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '5.1.2',
    sidebar: {"position":"right","display":"always","offset":12,"offset_float":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://sulangsss.github.io/2019/04/30/Java/Math/Math-Double/">





<meta name="baidu-site-verification" content="xV2vphJ53Q">


  <title>Java Math Double | A Big Boy Blog -  Tech Articls & Notes</title>
  





  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?344f3e8f33d176fceb44e65d30a341dc";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-right page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">A Big Boy Blog -  Tech Articls & Notes</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description">Python Java Android Django Web -> sulang357159@gmail.com</h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://sulangsss.github.io/2019/04/30/Java/Math/Math-Double/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jason - sulang357159@163.com">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="A Big Boy Blog -  Tech Articls & Notes">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">Java Math Double</h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-04-30T16:01:22+08:00">
                2019-04-30
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index">
                    <span itemprop="name">Java</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/Math/" itemprop="url" rel="index">
                    <span itemprop="name">Math</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h3 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h3><p>Correctly compare float or compare double is not only Java specific problem. It can be observed in almost all the programming languages today. In computer memory, floats and doubles are stored using IEEE 754 standard format.</p>
<hr>
<h3 id="Memory-Usage"><a href="#Memory-Usage" class="headerlink" title="Memory Usage"></a>Memory Usage</h3><ul>
<li>Double: 8 Byte，range(1.4E-45 ~ 3.4028235E38)</li>
<li>Float: 4 Byte，range(4.9E-324 ~ 1.7976931348623157E308)</li>
</ul>
<hr>
<h3 id="Comparison"><a href="#Comparison" class="headerlink" title="Comparison"></a>Comparison</h3><h4 id="Case-Simple-comparison"><a href="#Case-Simple-comparison" class="headerlink" title="Case - Simple comparison"></a>Case - Simple comparison</h4><p>First look at the simple comparison to understand what exactly is wrong with comparing double with == operator. In given program, I am creating same floating point number (i.e. 1.1) using two methods:</p>
<ul>
<li>Add .1, 11 times.</li>
<li>Multiply .1 to 11.</li>
</ul>
<p>In theory, both operations should produce the number 1.1. And when we compare the results of both methods, it should match.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  Method 1</span></span><br><span class="line">var f1 = .<span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> (i in <span class="number">1</span>..<span class="number">11</span>) &#123;</span><br><span class="line">    f1 += .<span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//  It's acutally 1.1</span></span><br><span class="line"><span class="comment">//  f1 is computed to 1.0999999999999999. Its exactly the problem which rounding off causes internally. </span></span><br><span class="line"><span class="comment">//  That’s why, floating point comparison with '==' operator is not recommended.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//  Method 2</span></span><br><span class="line">val f2 = .<span class="number">1</span> * <span class="number">11</span></span><br><span class="line"></span><br><span class="line">println(<span class="string">"f1 $f1, f2 $f2"</span>)</span><br><span class="line">println(<span class="string">"f1 == f2 -&gt; $&#123;f1 == f2&#125;"</span>)</span><br></pre></td></tr></table></figure>
<p>Output：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">f1 1.0999999999999999, f2 1.1</span><br><span class="line">f1 == f2 -&gt; <span class="literal">false</span></span><br></pre></td></tr></table></figure></p>
<p><strong>Use BigDecimal</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Method 1</span></span><br><span class="line">var f1 = BigDecimal(<span class="string">"0.0"</span>)</span><br><span class="line">val pointOne = BigDecimal(<span class="string">"0.1"</span>)</span><br><span class="line"><span class="keyword">for</span> (i in <span class="number">1</span>..<span class="number">11</span>) &#123;</span><br><span class="line">    f1 = f1.add(pointOne)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Method 2</span></span><br><span class="line">var f2 = BigDecimal(<span class="string">"0.1"</span>)</span><br><span class="line">val eleven = BigDecimal(<span class="string">"11"</span>)</span><br><span class="line">f2 = f2.multiply(eleven)</span><br><span class="line"></span><br><span class="line">println(<span class="string">"f1 $f1, f2 $f2"</span>)</span><br><span class="line">println(<span class="string">"f1.compareTo(f2) -&gt; $&#123;f1.compareTo(f2) == 0&#125;"</span>)</span><br></pre></td></tr></table></figure>
<p>Output：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">f1 1.1, f2 1.1</span><br><span class="line">f1.compareTo(f2) -&gt; <span class="literal">true</span></span><br></pre></td></tr></table></figure></p>
<h4 id="Case-Threshold-based-comparison-lt-—-Recommended"><a href="#Case-Threshold-based-comparison-lt-—-Recommended" class="headerlink" title="Case - Threshold based comparison &lt;— Recommended"></a>Case - Threshold based comparison &lt;— Recommended</h4><p>Using programming, we cannot change the way these floating point numbers are stored or computed. So we have to adapt a solution where we agree that a determine the differences in both values which we can tolerate and still consider the numbers equal. This agreed upon difference in values is called the <strong>threshold</strong> or <strong>epsilon</strong>.</p>
<p>So now to use ‘threshold based floating point comparison‘, we can use the Math.abs() method to compute a difference between the two numbers and compare the difference to a threshold value.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">val threshold = <span class="number">0.0001</span></span><br><span class="line"><span class="comment">//Method 1</span></span><br><span class="line">var f1 = .<span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> (i in <span class="number">1</span>..<span class="number">11</span>) &#123;</span><br><span class="line">    f1 += .<span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Method 2</span></span><br><span class="line">val f2 = .<span class="number">1</span> * <span class="number">11</span></span><br><span class="line"></span><br><span class="line">println(<span class="string">"f1 $f1, f2 $f2"</span>)</span><br><span class="line">println(<span class="string">"f1 == f2 -&gt; $&#123;Math.abs(f1 - f2) &lt; threshold&#125;"</span>)</span><br></pre></td></tr></table></figure>
<p>Output：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">f1 1.0999999999999999, f2 1.1</span><br><span class="line">f1 == f2 -&gt; <span class="literal">true</span></span><br></pre></td></tr></table></figure></p>
<h4 id="Case-Compare-with-BigDecimal-lt-—-Recommended"><a href="#Case-Compare-with-BigDecimal-lt-—-Recommended" class="headerlink" title="Case - Compare with BigDecimal &lt;— Recommended"></a>Case - Compare with BigDecimal &lt;— Recommended</h4><p>In BigDecimal class, you can specify the rounding mode and exact precision which you want to use. Using the exact precision limit, rounding errors are mostly solved.</p>
<p>Best part is that BigDecimal numbers are <strong>immutable</strong> i.e. if you create a BigDecimal BD with value “1.23”, that object will remain “1.23” and can never be changed. This class provide many methods which can be used to do numerical operations on it’s value.</p>
<p>You can use it’s <strong>compareTo()</strong> method to compare to BigDecimal numbers. It ignore the scale while comparing.</p>
<blockquote>
<p>Special Note：Never use the equals() method to compare BigDecimal instances. That is because this equals function will compare the scale. If the scale is different, equals() will return false, even if they are the same number mathematically.</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">val a = BigDecimal(<span class="string">"2.00"</span>)</span><br><span class="line">val b = BigDecimal(<span class="string">"2.0"</span>)</span><br><span class="line"></span><br><span class="line">println(<span class="string">"a == b --&gt; $&#123;a == b&#125;"</span>)</span><br><span class="line">println(<span class="string">"a.compareTo(b) --&gt; $&#123;a.compareTo(b) == 0&#125;"</span>)</span><br></pre></td></tr></table></figure>
<p>Output：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a == b --&gt; <span class="literal">false</span></span><br><span class="line">a.compareTo(b) --&gt; <span class="literal">true</span></span><br></pre></td></tr></table></figure></p>
<hr>
<h3 id="NaN-and-INFINITY"><a href="#NaN-and-INFINITY" class="headerlink" title="NaN and INFINITY"></a>NaN and INFINITY</h3><ul>
<li>Once a NaN always a NaN</li>
<li>Double.MAX_VALUE overflow into POSITIVE_INFINITY, The same goes for Double.MIN_VALUE except that it will overflow to Double.NEGATIVE_INFINITY.</li>
</ul>
<h4 id="NaN"><a href="#NaN" class="headerlink" title="NaN"></a>NaN</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">val result = Math.sqrt(-<span class="number">1.0</span>)</span><br><span class="line">println(<span class="string">"Math.sqrt(-1.0) -&gt; $result"</span>)</span><br><span class="line">println(<span class="string">"Double.NaN == result -&gt; $&#123;result.isNaN()&#125;"</span>)</span><br><span class="line">println(<span class="string">"Double.NEGATIVE_INFINITY == result -&gt; $&#123;Double.NEGATIVE_INFINITY == result&#125;"</span>)</span><br><span class="line">println(<span class="string">"Double.POSITIVE_INFINITY == result -&gt; $&#123;Double.POSITIVE_INFINITY == result&#125;"</span>)</span><br></pre></td></tr></table></figure>
<p>Output：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Math.sqrt(-1.0) -&gt; NaN</span><br><span class="line">Double.NaN == result -&gt; <span class="literal">true</span></span><br><span class="line">Double.NEGATIVE_INFINITY == result -&gt; <span class="literal">false</span></span><br><span class="line">Double.POSITIVE_INFINITY == result -&gt; <span class="literal">false</span></span><br></pre></td></tr></table></figure></p>
<h4 id="NEGATIVE-INFINITY"><a href="#NEGATIVE-INFINITY" class="headerlink" title="NEGATIVE_INFINITY"></a>NEGATIVE_INFINITY</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">val result = -Double.MAX_VALUE * Double.MAX_VALUE</span><br><span class="line">println(<span class="string">"Double.MAX_VALUE * Double.MAX_VALUE -&gt; $result"</span>)</span><br><span class="line">println(<span class="string">"Double.NaN == result -&gt; $&#123;result.isNaN()&#125;"</span>)</span><br><span class="line">println(<span class="string">"Double.NEGATIVE_INFINITY == result -&gt; $&#123;Double.NEGATIVE_INFINITY == result&#125;"</span>)</span><br><span class="line">println(<span class="string">"Double.POSITIVE_INFINITY == result -&gt; $&#123;Double.POSITIVE_INFINITY == result&#125;"</span>)</span><br></pre></td></tr></table></figure>
<p>Output：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">-Double.MAX_VALUE * Double.MAX_VALUE -&gt; -Infinity</span><br><span class="line">Double.NaN == result -&gt; <span class="literal">false</span></span><br><span class="line">Double.NEGATIVE_INFINITY == result -&gt; <span class="literal">true</span></span><br><span class="line">Double.POSITIVE_INFINITY == result -&gt; <span class="literal">false</span></span><br></pre></td></tr></table></figure></p>
<h4 id="POSITIVE-INFINITY"><a href="#POSITIVE-INFINITY" class="headerlink" title="POSITIVE_INFINITY"></a>POSITIVE_INFINITY</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">val result = <span class="number">5.0</span> / <span class="number">0</span></span><br><span class="line">println(<span class="string">"5.0 / 0 -&gt; $result"</span>)</span><br><span class="line">println(<span class="string">"isNaN -&gt; $&#123;result.isNaN()&#125;"</span>)</span><br><span class="line">println(<span class="string">"Double.NEGATIVE_INFINITY == result -&gt; $&#123;Double.NEGATIVE_INFINITY == result&#125;"</span>)</span><br><span class="line">println(<span class="string">"Double.POSITIVE_INFINITY == result -&gt; $&#123;Double.POSITIVE_INFINITY == result&#125;"</span>)</span><br></pre></td></tr></table></figure>
<p>Output：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">5.0 / 0 -&gt; Infinity</span><br><span class="line">isNaN -&gt; <span class="literal">false</span></span><br><span class="line">Double.NEGATIVE_INFINITY == result -&gt; <span class="literal">false</span></span><br><span class="line">Double.POSITIVE_INFINITY == result -&gt; <span class="literal">true</span></span><br></pre></td></tr></table></figure></p>
<hr>
<h3 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h3><blockquote>
<p><a href="https://blog.csdn.net/a327369238/article/details/52354811" target="_blank" rel="noopener">https://blog.csdn.net/a327369238/article/details/52354811</a><br><a href="https://howtodoinjava.com/java/basics/correctly-compare-float-double/" target="_blank" rel="noopener">https://howtodoinjava.com/java/basics/correctly-compare-float-double/</a><br><a href="https://www.avocado.com.au/resources/tech-tips/java-double-nan-weirdness/" target="_blank" rel="noopener">https://www.avocado.com.au/resources/tech-tips/java-double-nan-weirdness/</a></p>
</blockquote>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Java/" rel="tag"># Java</a>
          
            <a href="/tags/Math/" rel="tag"># Math</a>
          
            <a href="/tags/Double/" rel="tag"># Double</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/04/27/Java/JVM/Case/CustomClassLoader造成YGC越来越慢/" rel="next" title="CustomClassLoader造成YGC越来越慢，为什么？">
                <i class="fa fa-chevron-left"></i> CustomClassLoader造成YGC越来越慢，为什么？
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/04/30/Java/JVM/Case/Check-CPU-Overload/" rel="prev" title="Check CPU Overload">
                Check CPU Overload <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
          
            <img class="site-author-image" itemprop="image" src="/images/avatar.gif" alt="Jason - sulang357159@163.com">
          
            <p class="site-author-name" itemprop="name">Jason - sulang357159@163.com</p>
            <p class="site-description motion-element" itemprop="description"></p>
        </div>

        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
            
              <a href="/archives/">
            
                <span class="site-state-item-count">535</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">233</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">591</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#Introduction"><span class="nav-number">1.</span> <span class="nav-text">Introduction</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Memory-Usage"><span class="nav-number">2.</span> <span class="nav-text">Memory Usage</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Comparison"><span class="nav-number">3.</span> <span class="nav-text">Comparison</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Case-Simple-comparison"><span class="nav-number">3.1.</span> <span class="nav-text">Case - Simple comparison</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Case-Threshold-based-comparison-lt-—-Recommended"><span class="nav-number">3.2.</span> <span class="nav-text">Case - Threshold based comparison &lt;— Recommended</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Case-Compare-with-BigDecimal-lt-—-Recommended"><span class="nav-number">3.3.</span> <span class="nav-text">Case - Compare with BigDecimal &lt;— Recommended</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#NaN-and-INFINITY"><span class="nav-number">4.</span> <span class="nav-text">NaN and INFINITY</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#NaN"><span class="nav-number">4.1.</span> <span class="nav-text">NaN</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#NEGATIVE-INFINITY"><span class="nav-number">4.2.</span> <span class="nav-text">NEGATIVE_INFINITY</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#POSITIVE-INFINITY"><span class="nav-number">4.3.</span> <span class="nav-text">POSITIVE_INFINITY</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Reference"><span class="nav-number">5.</span> <span class="nav-text">Reference</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Jason - sulang357159@163.com</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动</div>

  <span class="post-meta-divider">|</span>

  <div class="theme-info">主题 &mdash; <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">NexT.Mist</a> v5.1.2</div>


        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>



  
  

  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>


  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  




	





  





  








  





  

  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  

  

  

  

</body>
</html>
