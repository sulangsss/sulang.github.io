<hr>
<p>title: MySQL Common Error<br>date: 2018-10-03 22:00:18<br>tags:</p>
<ul>
<li>DB</li>
<li>MySQL</li>
<li>CommonError<br>categories:</li>
<li>DB</li>
<li>MySQL</li>
<li>Error</li>
</ul>
<hr>
<h3 id="The-last-packet-sent-successfully-to-the-server-was-0-milliseconds-ago-The-driver-has-not-received-any-packets-from-the-server"><a href="#The-last-packet-sent-successfully-to-the-server-was-0-milliseconds-ago-The-driver-has-not-received-any-packets-from-the-server" class="headerlink" title="The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server."></a>The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.</h3><ol>
<li><p>查看数据的 timeout 设置 <strong>show global variables like ‘wait_timeout’</strong></p>
<pre><code class="bash"><span class="comment"># 3600 sec = 60 min</span>
wait_timeout    3600
</code></pre>
</li>
<li><p>druid</p>
<blockquote>
<p><a href="https://www.cnblogs.com/wangiqngpei557/p/10291606.html">https://www.cnblogs.com/wangiqngpei557/p/10291606.html</a></p>
</blockquote>
</li>
</ol>
<hr>
<h3 id="‘Operation-aborted-Failed-to-acquire-lock-due-to-max-num-locks-limit’-from-ROCKSDB"><a href="#‘Operation-aborted-Failed-to-acquire-lock-due-to-max-num-locks-limit’-from-ROCKSDB" class="headerlink" title="‘Operation aborted: Failed to acquire lock due to max_num_locks limit’ from ROCKSDB"></a>‘Operation aborted: Failed to acquire lock due to max_num_locks limit’ from ROCKSDB</h3><pre><code class="bash">show global variables like <span class="string">'rocksdb_max_row_locks'</span>

<span class="comment"># set global rocksdb_max_row_locks=2000000;</span>

<span class="built_in">set</span> session rocksdb_max_row_locks=2000000;
</code></pre>
<hr>
<h3 id="ERROR-1071-42000-Specified-key-was-too-long-max-key-length-is-767-bytes"><a href="#ERROR-1071-42000-Specified-key-was-too-long-max-key-length-is-767-bytes" class="headerlink" title="ERROR 1071 (42000): Specified key was too long; max key length is 767 bytes"></a>ERROR 1071 (42000): Specified key was too long; max key length is 767 bytes</h3><p>mysql的varchar主键只支持不超过767个字节或者768/2=384个双字节 或者767/3=255个三字节的字段 而GBK是双字节的，UTF8是三字节的。</p>
<blockquote>
<p><a href="https://cloud.tencent.com/developer/article/1005696">https://cloud.tencent.com/developer/article/1005696</a></p>
</blockquote>
<hr>
<h3 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h3><ul>
<li><a href="https://hacpai.com/article/1536248398959">https://hacpai.com/article/1536248398959</a></li>
</ul>
